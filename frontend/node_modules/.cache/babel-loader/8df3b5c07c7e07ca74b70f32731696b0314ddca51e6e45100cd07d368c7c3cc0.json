{"ast":null,"code":"import{addSession,deleteSession,getSession}from'./api';export const sessions={create(user){const hash=Math.random().toFixed(50);addSession(hash,user);return hash;},async remove(hash){const session=await getSession();if(!session)return;deleteSession(session.id);},async access(hash,accessRoles){const dbSession=await getSession(hash);return!!(dbSession!==null&&dbSession!==void 0&&dbSession.user)&&accessRoles.includes(dbSession.user.roleId);}};","map":{"version":3,"names":["addSession","deleteSession","getSession","sessions","create","user","hash","Math","random","toFixed","remove","session","id","access","accessRoles","dbSession","includes","roleId"],"sources":["/Users/evgeniapodoprigora/Desktop/practice/frontend/src/bff/sessions.js"],"sourcesContent":["import { addSession, deleteSession, getSession } from './api';\n\nexport const sessions = {\n\tcreate(user) {\n\t\tconst hash = Math.random().toFixed(50);\n\n\t\taddSession(hash, user);\n\n\t\treturn hash;\n\t},\n\tasync remove(hash) {\n\t\tconst session = await getSession();\n\n\t\tif (!session) return;\n\t\tdeleteSession(session.id);\n\t},\n\tasync access(hash, accessRoles) {\n\t\tconst dbSession = await getSession(hash);\n\n\t\treturn !!dbSession?.user && accessRoles.includes(dbSession.user.roleId);\n\t},\n};\n"],"mappings":"AAAA,OAASA,UAAU,CAAEC,aAAa,CAAEC,UAAU,KAAQ,OAAO,CAE7D,MAAO,MAAM,CAAAC,QAAQ,CAAG,CACvBC,MAAMA,CAACC,IAAI,CAAE,CACZ,KAAM,CAAAC,IAAI,CAAGC,IAAI,CAACC,MAAM,CAAC,CAAC,CAACC,OAAO,CAAC,EAAE,CAAC,CAEtCT,UAAU,CAACM,IAAI,CAAED,IAAI,CAAC,CAEtB,MAAO,CAAAC,IAAI,CACZ,CAAC,CACD,KAAM,CAAAI,MAAMA,CAACJ,IAAI,CAAE,CAClB,KAAM,CAAAK,OAAO,CAAG,KAAM,CAAAT,UAAU,CAAC,CAAC,CAElC,GAAI,CAACS,OAAO,CAAE,OACdV,aAAa,CAACU,OAAO,CAACC,EAAE,CAAC,CAC1B,CAAC,CACD,KAAM,CAAAC,MAAMA,CAACP,IAAI,CAAEQ,WAAW,CAAE,CAC/B,KAAM,CAAAC,SAAS,CAAG,KAAM,CAAAb,UAAU,CAACI,IAAI,CAAC,CAExC,MAAO,CAAC,EAACS,SAAS,SAATA,SAAS,WAATA,SAAS,CAAEV,IAAI,GAAIS,WAAW,CAACE,QAAQ,CAACD,SAAS,CAACV,IAAI,CAACY,MAAM,CAAC,CACxE,CACD,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}