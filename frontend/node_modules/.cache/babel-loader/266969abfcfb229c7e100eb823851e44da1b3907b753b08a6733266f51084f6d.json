{"ast":null,"code":"import styled from'styled-components';import{NavLink,useNavigate}from'react-router-dom';import{Icon,Button}from'../../..';import{ROLE}from'../../../../constants';import{useDispatch,useSelector}from'react-redux';import{selectUserRole,selectUserLogin,selectUserSession}from'../../../../selectors';import{logout}from'../../../../actions';import{checkAccess}from'../../../../utils/check-access';import{jsx as _jsx,Fragment as _Fragment,jsxs as _jsxs}from\"react/jsx-runtime\";const RightAlined=styled.div`\n\tdisplay: flex;\n\tjustify-content: flex-end;\n\talign-items: center;\n`;const UserName=styled.div`\n\tfont-size: 18px;\n\tfont-weight: 800;\n`;const ControlPanelContainer=_ref=>{let{className}=_ref;const navigate=useNavigate();const dispatch=useDispatch();const roleId=useSelector(selectUserRole);const login=useSelector(selectUserLogin);const session=useSelector(selectUserSession);const onLogout=()=>{dispatch(logout(session));sessionStorage.removeItem('userData');navigate('/');};const isAdmin=checkAccess([ROLE.ADMIN],roleId);return/*#__PURE__*/_jsxs(\"div\",{className:className,children:[/*#__PURE__*/_jsx(RightAlined,{children:roleId===ROLE.GUEST?/*#__PURE__*/_jsx(Button,{children:/*#__PURE__*/_jsx(NavLink,{to:\"/login\",children:\"\\u0412\\u043E\\u0439\\u0442\\u0438\"})}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(UserName,{children:login}),/*#__PURE__*/_jsx(Icon,{id:\"fa-sign-out\",margin:\"0 0 0 10px\",onClick:onLogout})]})}),/*#__PURE__*/_jsxs(RightAlined,{children:[/*#__PURE__*/_jsx(Icon,{id:\"fa-long-arrow-left\",margin:\"10px 0 0 0\",onClick:()=>navigate(-1)}),isAdmin&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(NavLink,{to:\"post\",children:/*#__PURE__*/_jsx(Icon,{id:\"fa-file-text-o\",margin:\"10px 0 0 15px\"})}),/*#__PURE__*/_jsx(NavLink,{to:\"/users\",children:/*#__PURE__*/_jsx(Icon,{id:\"fa-users\",margin:\"10px 0 0 15px\"})})]})]})]});};export const ControlPanel=styled(ControlPanelContainer)``;","map":{"version":3,"names":["styled","NavLink","useNavigate","Icon","Button","ROLE","useDispatch","useSelector","selectUserRole","selectUserLogin","selectUserSession","logout","checkAccess","jsx","_jsx","Fragment","_Fragment","jsxs","_jsxs","RightAlined","div","UserName","ControlPanelContainer","_ref","className","navigate","dispatch","roleId","login","session","onLogout","sessionStorage","removeItem","isAdmin","ADMIN","children","GUEST","to","id","margin","onClick","ControlPanel"],"sources":["/Users/evgeniapodoprigora/Desktop/practice/frontend/src/components/header/components/control-panel/control-panel.js"],"sourcesContent":["import styled from 'styled-components';\nimport { NavLink, useNavigate } from 'react-router-dom';\n\nimport { Icon, Button } from '../../..';\nimport { ROLE } from '../../../../constants';\nimport { useDispatch, useSelector } from 'react-redux';\nimport {\n\tselectUserRole,\n\tselectUserLogin,\n\tselectUserSession,\n} from '../../../../selectors';\nimport { logout } from '../../../../actions';\nimport { checkAccess } from '../../../../utils/check-access';\n\nconst RightAlined = styled.div`\n\tdisplay: flex;\n\tjustify-content: flex-end;\n\talign-items: center;\n`;\n\nconst UserName = styled.div`\n\tfont-size: 18px;\n\tfont-weight: 800;\n`;\n\nconst ControlPanelContainer = ({ className }) => {\n\tconst navigate = useNavigate();\n\tconst dispatch = useDispatch();\n\n\tconst roleId = useSelector(selectUserRole);\n\tconst login = useSelector(selectUserLogin);\n\tconst session = useSelector(selectUserSession);\n\n\tconst onLogout = () => {\n\t\tdispatch(logout(session));\n\t\tsessionStorage.removeItem('userData');\n\t\tnavigate('/');\n\t};\n\tconst isAdmin = checkAccess([ROLE.ADMIN], roleId);\n\n\treturn (\n\t\t<div className={className}>\n\t\t\t<RightAlined>\n\t\t\t\t{roleId === ROLE.GUEST ? (\n\t\t\t\t\t<Button>\n\t\t\t\t\t\t<NavLink to=\"/login\">Войти</NavLink>\n\t\t\t\t\t</Button>\n\t\t\t\t) : (\n\t\t\t\t\t<>\n\t\t\t\t\t\t<UserName>{login}</UserName>\n\n\t\t\t\t\t\t<Icon id=\"fa-sign-out\" margin=\"0 0 0 10px\" onClick={onLogout} />\n\t\t\t\t\t</>\n\t\t\t\t)}\n\t\t\t</RightAlined>\n\t\t\t<RightAlined>\n\t\t\t\t<Icon\n\t\t\t\t\tid=\"fa-long-arrow-left\"\n\t\t\t\t\tmargin=\"10px 0 0 0\"\n\t\t\t\t\tonClick={() => navigate(-1)}\n\t\t\t\t/>\n\t\t\t\t{isAdmin && (\n\t\t\t\t\t<>\n\t\t\t\t\t\t<NavLink to=\"post\">\n\t\t\t\t\t\t\t<Icon id=\"fa-file-text-o\" margin=\"10px 0 0 15px\" />\n\t\t\t\t\t\t</NavLink>\n\t\t\t\t\t\t<NavLink to=\"/users\">\n\t\t\t\t\t\t\t<Icon id=\"fa-users\" margin=\"10px 0 0 15px\" />\n\t\t\t\t\t\t</NavLink>\n\t\t\t\t\t</>\n\t\t\t\t)}\n\t\t\t</RightAlined>\n\t\t</div>\n\t);\n};\n\nexport const ControlPanel = styled(ControlPanelContainer)``;\n"],"mappings":"AAAA,MAAO,CAAAA,MAAM,KAAM,mBAAmB,CACtC,OAASC,OAAO,CAAEC,WAAW,KAAQ,kBAAkB,CAEvD,OAASC,IAAI,CAAEC,MAAM,KAAQ,UAAU,CACvC,OAASC,IAAI,KAAQ,uBAAuB,CAC5C,OAASC,WAAW,CAAEC,WAAW,KAAQ,aAAa,CACtD,OACCC,cAAc,CACdC,eAAe,CACfC,iBAAiB,KACX,uBAAuB,CAC9B,OAASC,MAAM,KAAQ,qBAAqB,CAC5C,OAASC,WAAW,KAAQ,gCAAgC,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,QAAA,IAAAC,SAAA,CAAAC,IAAA,IAAAC,KAAA,yBAE7D,KAAM,CAAAC,WAAW,CAAGnB,MAAM,CAACoB,GAAG;AAC9B;AACA;AACA;AACA,CAAC,CAED,KAAM,CAAAC,QAAQ,CAAGrB,MAAM,CAACoB,GAAG;AAC3B;AACA;AACA,CAAC,CAED,KAAM,CAAAE,qBAAqB,CAAGC,IAAA,EAAmB,IAAlB,CAAEC,SAAU,CAAC,CAAAD,IAAA,CAC3C,KAAM,CAAAE,QAAQ,CAAGvB,WAAW,CAAC,CAAC,CAC9B,KAAM,CAAAwB,QAAQ,CAAGpB,WAAW,CAAC,CAAC,CAE9B,KAAM,CAAAqB,MAAM,CAAGpB,WAAW,CAACC,cAAc,CAAC,CAC1C,KAAM,CAAAoB,KAAK,CAAGrB,WAAW,CAACE,eAAe,CAAC,CAC1C,KAAM,CAAAoB,OAAO,CAAGtB,WAAW,CAACG,iBAAiB,CAAC,CAE9C,KAAM,CAAAoB,QAAQ,CAAGA,CAAA,GAAM,CACtBJ,QAAQ,CAACf,MAAM,CAACkB,OAAO,CAAC,CAAC,CACzBE,cAAc,CAACC,UAAU,CAAC,UAAU,CAAC,CACrCP,QAAQ,CAAC,GAAG,CAAC,CACd,CAAC,CACD,KAAM,CAAAQ,OAAO,CAAGrB,WAAW,CAAC,CAACP,IAAI,CAAC6B,KAAK,CAAC,CAAEP,MAAM,CAAC,CAEjD,mBACCT,KAAA,QAAKM,SAAS,CAAEA,SAAU,CAAAW,QAAA,eACzBrB,IAAA,CAACK,WAAW,EAAAgB,QAAA,CACVR,MAAM,GAAKtB,IAAI,CAAC+B,KAAK,cACrBtB,IAAA,CAACV,MAAM,EAAA+B,QAAA,cACNrB,IAAA,CAACb,OAAO,EAACoC,EAAE,CAAC,QAAQ,CAAAF,QAAA,CAAC,gCAAK,CAAS,CAAC,CAC7B,CAAC,cAETjB,KAAA,CAAAF,SAAA,EAAAmB,QAAA,eACCrB,IAAA,CAACO,QAAQ,EAAAc,QAAA,CAAEP,KAAK,CAAW,CAAC,cAE5Bd,IAAA,CAACX,IAAI,EAACmC,EAAE,CAAC,aAAa,CAACC,MAAM,CAAC,YAAY,CAACC,OAAO,CAAEV,QAAS,CAAE,CAAC,EAC/D,CACF,CACW,CAAC,cACdZ,KAAA,CAACC,WAAW,EAAAgB,QAAA,eACXrB,IAAA,CAACX,IAAI,EACJmC,EAAE,CAAC,oBAAoB,CACvBC,MAAM,CAAC,YAAY,CACnBC,OAAO,CAAEA,CAAA,GAAMf,QAAQ,CAAC,CAAC,CAAC,CAAE,CAC5B,CAAC,CACDQ,OAAO,eACPf,KAAA,CAAAF,SAAA,EAAAmB,QAAA,eACCrB,IAAA,CAACb,OAAO,EAACoC,EAAE,CAAC,MAAM,CAAAF,QAAA,cACjBrB,IAAA,CAACX,IAAI,EAACmC,EAAE,CAAC,gBAAgB,CAACC,MAAM,CAAC,eAAe,CAAE,CAAC,CAC3C,CAAC,cACVzB,IAAA,CAACb,OAAO,EAACoC,EAAE,CAAC,QAAQ,CAAAF,QAAA,cACnBrB,IAAA,CAACX,IAAI,EAACmC,EAAE,CAAC,UAAU,CAACC,MAAM,CAAC,eAAe,CAAE,CAAC,CACrC,CAAC,EACT,CACF,EACW,CAAC,EACV,CAAC,CAER,CAAC,CAED,MAAO,MAAM,CAAAE,YAAY,CAAGzC,MAAM,CAACsB,qBAAqB,CAAC,EAAE","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}