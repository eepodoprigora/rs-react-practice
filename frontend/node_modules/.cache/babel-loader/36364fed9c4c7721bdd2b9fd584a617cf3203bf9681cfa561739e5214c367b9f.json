{"ast":null,"code":"import { getComments, getPosts } from '../api';\nimport { getCommentsCount } from '../utils';\nexport const fetchPosts = async (searchPhrase, page, limit) => {\n  const [{\n    posts,\n    lastPage\n  }, comments] = await Promise.all([getPosts(searchPhrase, page, limit), getComments()]);\n  return {\n    error: null,\n    res: posts.map(post => ({\n      ...post,\n      commentsCount: getCommentsCount(comments, post.id)\n    })),\n    lastPage: lastPage\n  };\n};","map":{"version":3,"names":["getComments","getPosts","getCommentsCount","fetchPosts","searchPhrase","page","limit","posts","lastPage","comments","Promise","all","error","res","map","post","commentsCount","id"],"sources":["/Users/evgeniapodoprigora/Desktop/practice/frontend/src/bff/operations/fetch-posts.js"],"sourcesContent":["import { getComments, getPosts } from '../api';\nimport { getCommentsCount } from '../utils';\n\nexport const fetchPosts = async (searchPhrase, page, limit) => {\n\tconst [{ posts, lastPage }, comments] = await Promise.all([\n\t\tgetPosts(searchPhrase, page, limit),\n\t\tgetComments(),\n\t]);\n\n\treturn {\n\t\terror: null,\n\t\tres: posts.map((post) => ({\n\t\t\t...post,\n\t\t\tcommentsCount: getCommentsCount(comments, post.id),\n\t\t})),\n\t\tlastPage: lastPage,\n\t};\n};\n"],"mappings":"AAAA,SAASA,WAAW,EAAEC,QAAQ,QAAQ,QAAQ;AAC9C,SAASC,gBAAgB,QAAQ,UAAU;AAE3C,OAAO,MAAMC,UAAU,GAAG,MAAAA,CAAOC,YAAY,EAAEC,IAAI,EAAEC,KAAK,KAAK;EAC9D,MAAM,CAAC;IAAEC,KAAK;IAAEC;EAAS,CAAC,EAAEC,QAAQ,CAAC,GAAG,MAAMC,OAAO,CAACC,GAAG,CAAC,CACzDV,QAAQ,CAACG,YAAY,EAAEC,IAAI,EAAEC,KAAK,CAAC,EACnCN,WAAW,CAAC,CAAC,CACb,CAAC;EAEF,OAAO;IACNY,KAAK,EAAE,IAAI;IACXC,GAAG,EAAEN,KAAK,CAACO,GAAG,CAAEC,IAAI,KAAM;MACzB,GAAGA,IAAI;MACPC,aAAa,EAAEd,gBAAgB,CAACO,QAAQ,EAAEM,IAAI,CAACE,EAAE;IAClD,CAAC,CAAC,CAAC;IACHT,QAAQ,EAAEA;EACX,CAAC;AACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}