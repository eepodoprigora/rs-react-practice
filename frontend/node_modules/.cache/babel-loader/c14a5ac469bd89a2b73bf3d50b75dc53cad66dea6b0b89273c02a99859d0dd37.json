{"ast":null,"code":"import PropTypes from'prop-types';import{useState}from'react';import{useDispatch,useSelector}from'react-redux';import{Icon}from'../../../../components';import{Comment}from'./components';import{selectUserId,selectUserRole}from'../../../../selectors';import{useServerRequest}from'../../../../hooks';import{addCommentAsync}from'../../../../actions';import{PROP_TYPE,ROLE}from'../../../../constants';import styled from'styled-components';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const CommentsContainer=_ref=>{let{className,comments,postId}=_ref;const[newComment,setNewComment]=useState('');const dispatch=useDispatch();const userId=useSelector(selectUserId);const userRole=useSelector(selectUserRole);const serverRequest=useServerRequest();const onNewCommentAdd=(userId,postId,newComment)=>{dispatch(addCommentAsync(serverRequest,userId,postId,newComment));setNewComment('');};const isGuest=userRole===ROLE.GUEST;return/*#__PURE__*/_jsxs(\"div\",{className:className,children:[!isGuest&&/*#__PURE__*/_jsxs(\"div\",{className:\"new-comment\",children:[/*#__PURE__*/_jsx(\"textarea\",{name:\"comment\",value:newComment,placeholder:\"\\u041A\\u043E\\u043C\\u043C\\u0435\\u043D\\u0442\\u0430\\u0440\\u0438\\u0439\",onChange:_ref2=>{let{target}=_ref2;return setNewComment(target.value);}}),/*#__PURE__*/_jsx(Icon,{id:\"fa-paper-plane-o\",margin:\"0 12px 0 10px\",size:\"20px\",onClick:()=>onNewCommentAdd(userId,postId,newComment)})]}),/*#__PURE__*/_jsx(\"div\",{className:\"comments\",children:comments.map(_ref3=>{let{id,author,content,publishedAt}=_ref3;return/*#__PURE__*/_jsx(Comment,{id:id,postId:postId,author:author,content:content,publishedAt:publishedAt},id);})})]});};export const Comments=styled(CommentsContainer)`\n\twidth: 580px;\n\tmargin: 20px auto;\n\n\t.new-comment {\n\t\tdisplay: flex;\n\n\t\ttextarea {\n\t\t\twidth: 540px;\n\t\t\theight: 100px;\n\t\t\tresize: none;\n\t\t\tpadding: 10px;\n\t\t\tfont-size: 16px;\n\t\t\tfont-family: inherit;\n\t\t}\n\t}\n`;Comments.propTypes={comments:PropTypes.arrayOf(PROP_TYPE.COMMENT).isRequired,postId:PropTypes.string.isRequired};","map":{"version":3,"names":["PropTypes","useState","useDispatch","useSelector","Icon","Comment","selectUserId","selectUserRole","useServerRequest","addCommentAsync","PROP_TYPE","ROLE","styled","jsx","_jsx","jsxs","_jsxs","CommentsContainer","_ref","className","comments","postId","newComment","setNewComment","dispatch","userId","userRole","serverRequest","onNewCommentAdd","isGuest","GUEST","children","name","value","placeholder","onChange","_ref2","target","id","margin","size","onClick","map","_ref3","author","content","publishedAt","Comments","propTypes","arrayOf","COMMENT","isRequired","string"],"sources":["/Users/evgeniapodoprigora/Desktop/practice/frontend/src/pages/post/components/comments/comments.js"],"sourcesContent":["import PropTypes from 'prop-types';\nimport { useState } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { Icon } from '../../../../components';\nimport { Comment } from './components';\nimport { selectUserId, selectUserRole } from '../../../../selectors';\nimport { useServerRequest } from '../../../../hooks';\nimport { addCommentAsync } from '../../../../actions';\nimport { PROP_TYPE, ROLE } from '../../../../constants';\nimport styled from 'styled-components';\n\nconst CommentsContainer = ({ className, comments, postId }) => {\n\tconst [newComment, setNewComment] = useState('');\n\tconst dispatch = useDispatch();\n\tconst userId = useSelector(selectUserId);\n\tconst userRole = useSelector(selectUserRole);\n\tconst serverRequest = useServerRequest();\n\n\tconst onNewCommentAdd = (userId, postId, newComment) => {\n\t\tdispatch(addCommentAsync(serverRequest, userId, postId, newComment));\n\t\tsetNewComment('');\n\t};\n\n\tconst isGuest = userRole === ROLE.GUEST;\n\treturn (\n\t\t<div className={className}>\n\t\t\t{!isGuest && (\n\t\t\t\t<div className=\"new-comment\">\n\t\t\t\t\t<textarea\n\t\t\t\t\t\tname=\"comment\"\n\t\t\t\t\t\tvalue={newComment}\n\t\t\t\t\t\tplaceholder=\"Комментарий\"\n\t\t\t\t\t\tonChange={({ target }) => setNewComment(target.value)}\n\t\t\t\t\t/>\n\t\t\t\t\t<Icon\n\t\t\t\t\t\tid=\"fa-paper-plane-o\"\n\t\t\t\t\t\tmargin=\"0 12px 0 10px\"\n\t\t\t\t\t\tsize=\"20px\"\n\t\t\t\t\t\tonClick={() => onNewCommentAdd(userId, postId, newComment)}\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t)}\n\n\t\t\t<div className=\"comments\">\n\t\t\t\t{comments.map(({ id, author, content, publishedAt }) => (\n\t\t\t\t\t<Comment\n\t\t\t\t\t\tkey={id}\n\t\t\t\t\t\tid={id}\n\t\t\t\t\t\tpostId={postId}\n\t\t\t\t\t\tauthor={author}\n\t\t\t\t\t\tcontent={content}\n\t\t\t\t\t\tpublishedAt={publishedAt}\n\t\t\t\t\t/>\n\t\t\t\t))}\n\t\t\t</div>\n\t\t</div>\n\t);\n};\n\nexport const Comments = styled(CommentsContainer)`\n\twidth: 580px;\n\tmargin: 20px auto;\n\n\t.new-comment {\n\t\tdisplay: flex;\n\n\t\ttextarea {\n\t\t\twidth: 540px;\n\t\t\theight: 100px;\n\t\t\tresize: none;\n\t\t\tpadding: 10px;\n\t\t\tfont-size: 16px;\n\t\t\tfont-family: inherit;\n\t\t}\n\t}\n`;\n\nComments.propTypes = {\n\tcomments: PropTypes.arrayOf(PROP_TYPE.COMMENT).isRequired,\n\tpostId: PropTypes.string.isRequired,\n};\n"],"mappings":"AAAA,MAAO,CAAAA,SAAS,KAAM,YAAY,CAClC,OAASC,QAAQ,KAAQ,OAAO,CAChC,OAASC,WAAW,CAAEC,WAAW,KAAQ,aAAa,CACtD,OAASC,IAAI,KAAQ,wBAAwB,CAC7C,OAASC,OAAO,KAAQ,cAAc,CACtC,OAASC,YAAY,CAAEC,cAAc,KAAQ,uBAAuB,CACpE,OAASC,gBAAgB,KAAQ,mBAAmB,CACpD,OAASC,eAAe,KAAQ,qBAAqB,CACrD,OAASC,SAAS,CAAEC,IAAI,KAAQ,uBAAuB,CACvD,MAAO,CAAAC,MAAM,KAAM,mBAAmB,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAEvC,KAAM,CAAAC,iBAAiB,CAAGC,IAAA,EAAqC,IAApC,CAAEC,SAAS,CAAEC,QAAQ,CAAEC,MAAO,CAAC,CAAAH,IAAA,CACzD,KAAM,CAACI,UAAU,CAAEC,aAAa,CAAC,CAAGtB,QAAQ,CAAC,EAAE,CAAC,CAChD,KAAM,CAAAuB,QAAQ,CAAGtB,WAAW,CAAC,CAAC,CAC9B,KAAM,CAAAuB,MAAM,CAAGtB,WAAW,CAACG,YAAY,CAAC,CACxC,KAAM,CAAAoB,QAAQ,CAAGvB,WAAW,CAACI,cAAc,CAAC,CAC5C,KAAM,CAAAoB,aAAa,CAAGnB,gBAAgB,CAAC,CAAC,CAExC,KAAM,CAAAoB,eAAe,CAAGA,CAACH,MAAM,CAAEJ,MAAM,CAAEC,UAAU,GAAK,CACvDE,QAAQ,CAACf,eAAe,CAACkB,aAAa,CAAEF,MAAM,CAAEJ,MAAM,CAAEC,UAAU,CAAC,CAAC,CACpEC,aAAa,CAAC,EAAE,CAAC,CAClB,CAAC,CAED,KAAM,CAAAM,OAAO,CAAGH,QAAQ,GAAKf,IAAI,CAACmB,KAAK,CACvC,mBACCd,KAAA,QAAKG,SAAS,CAAEA,SAAU,CAAAY,QAAA,EACxB,CAACF,OAAO,eACRb,KAAA,QAAKG,SAAS,CAAC,aAAa,CAAAY,QAAA,eAC3BjB,IAAA,aACCkB,IAAI,CAAC,SAAS,CACdC,KAAK,CAAEX,UAAW,CAClBY,WAAW,CAAC,oEAAa,CACzBC,QAAQ,CAAEC,KAAA,MAAC,CAAEC,MAAO,CAAC,CAAAD,KAAA,OAAK,CAAAb,aAAa,CAACc,MAAM,CAACJ,KAAK,CAAC,EAAC,CACtD,CAAC,cACFnB,IAAA,CAACV,IAAI,EACJkC,EAAE,CAAC,kBAAkB,CACrBC,MAAM,CAAC,eAAe,CACtBC,IAAI,CAAC,MAAM,CACXC,OAAO,CAAEA,CAAA,GAAMb,eAAe,CAACH,MAAM,CAAEJ,MAAM,CAAEC,UAAU,CAAE,CAC3D,CAAC,EACE,CACL,cAEDR,IAAA,QAAKK,SAAS,CAAC,UAAU,CAAAY,QAAA,CACvBX,QAAQ,CAACsB,GAAG,CAACC,KAAA,MAAC,CAAEL,EAAE,CAAEM,MAAM,CAAEC,OAAO,CAAEC,WAAY,CAAC,CAAAH,KAAA,oBAClD7B,IAAA,CAACT,OAAO,EAEPiC,EAAE,CAAEA,EAAG,CACPjB,MAAM,CAAEA,MAAO,CACfuB,MAAM,CAAEA,MAAO,CACfC,OAAO,CAAEA,OAAQ,CACjBC,WAAW,CAAEA,WAAY,EALpBR,EAML,CAAC,EACF,CAAC,CACE,CAAC,EACF,CAAC,CAER,CAAC,CAED,MAAO,MAAM,CAAAS,QAAQ,CAAGnC,MAAM,CAACK,iBAAiB,CAAC;AACjD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC,CAED8B,QAAQ,CAACC,SAAS,CAAG,CACpB5B,QAAQ,CAAEpB,SAAS,CAACiD,OAAO,CAACvC,SAAS,CAACwC,OAAO,CAAC,CAACC,UAAU,CACzD9B,MAAM,CAAErB,SAAS,CAACoD,MAAM,CAACD,UAC1B,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}