{"ast":null,"code":"import PropTypes from'prop-types';import{useDispatch,useSelector}from'react-redux';import{Icon}from'../../../../../../components';import{removeCommentAsync,openModal,CLOSE_MODAL}from'../../../../../../actions';import{useServerRequest}from'../../../../../../hooks';import{selectUserRole}from'../../../../../../selectors';import{ROLE}from'../../../../../../constants';import styled from'styled-components';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const CommentContainer=_ref=>{let{className,id,author,publishedAt,content,postId}=_ref;const dispatch=useDispatch();const requestServer=useServerRequest();const userRole=useSelector(selectUserRole);const onCommentRemove=id=>{dispatch(openModal({text:'Удалить комментарий?',onConfirm:()=>{dispatch(removeCommentAsync(requestServer,postId,id));dispatch(CLOSE_MODAL);},onCancel:()=>dispatch(CLOSE_MODAL)}));};const isAdminOrModerator=[ROLE.ADMIN,ROLE.MODERATOR].includes(userRole);return/*#__PURE__*/_jsxs(\"div\",{className:className,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"comment\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"information-panel\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"author\",children:[/*#__PURE__*/_jsx(Icon,{id:\"fa-user-circle-o\",margin:\"0 12px 0 10px\",size:\"20px\"}),author]}),/*#__PURE__*/_jsxs(\"div\",{className:\"published-at\",children:[/*#__PURE__*/_jsx(Icon,{id:\"fa-calendar-o\",margin:\"0 12px 0 10px\",size:\"20px\",inactive:\"true\"}),publishedAt]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"comment-text\",children:content})]}),isAdminOrModerator&&/*#__PURE__*/_jsx(Icon,{id:\"fa-trash-o\",margin:\"8px 12px 0 10px\",size:\"24px\",onClick:()=>onCommentRemove(id)})]});};export const Comment=styled(CommentContainer)`\n\tdisplay: flex;\n\tmargin-top: 10px;\n\n\t.author,\n\t.published-at {\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t}\n\n\t.comment {\n\t\twidth: 100%;\n\t\tpadding: 10px;\n\t\tborder: 1px solid #cccccc;\n\t}\n\n\t.information-panel {\n\t\tdisplay: flex;\n\t\tjustify-content: space-between;\n\t}\n`;Comment.propTypes={id:PropTypes.string.isRequired,author:PropTypes.string.isRequired,content:PropTypes.string.isRequired,publishedAt:PropTypes.string.isRequired,postId:PropTypes.string.isRequired};","map":{"version":3,"names":["PropTypes","useDispatch","useSelector","Icon","removeCommentAsync","openModal","CLOSE_MODAL","useServerRequest","selectUserRole","ROLE","styled","jsx","_jsx","jsxs","_jsxs","CommentContainer","_ref","className","id","author","publishedAt","content","postId","dispatch","requestServer","userRole","onCommentRemove","text","onConfirm","onCancel","isAdminOrModerator","ADMIN","MODERATOR","includes","children","margin","size","inactive","onClick","Comment","propTypes","string","isRequired"],"sources":["/Users/evgeniapodoprigora/Desktop/practice/frontend/src/pages/post/components/comments/components/comment/comment.js"],"sourcesContent":["import PropTypes from 'prop-types';\nimport { useDispatch, useSelector } from 'react-redux';\n\nimport { Icon } from '../../../../../../components';\nimport { removeCommentAsync, openModal, CLOSE_MODAL } from '../../../../../../actions';\nimport { useServerRequest } from '../../../../../../hooks';\nimport { selectUserRole } from '../../../../../../selectors';\nimport { ROLE } from '../../../../../../constants';\n\nimport styled from 'styled-components';\nconst CommentContainer = ({ className, id, author, publishedAt, content, postId }) => {\n\tconst dispatch = useDispatch();\n\tconst requestServer = useServerRequest();\n\tconst userRole = useSelector(selectUserRole);\n\n\tconst onCommentRemove = (id) => {\n\t\tdispatch(\n\t\t\topenModal({\n\t\t\t\ttext: 'Удалить комментарий?',\n\t\t\t\tonConfirm: () => {\n\t\t\t\t\tdispatch(removeCommentAsync(requestServer, postId, id));\n\t\t\t\t\tdispatch(CLOSE_MODAL);\n\t\t\t\t},\n\t\t\t\tonCancel: () => dispatch(CLOSE_MODAL),\n\t\t\t}),\n\t\t);\n\t};\n\n\tconst isAdminOrModerator = [ROLE.ADMIN, ROLE.MODERATOR].includes(userRole);\n\treturn (\n\t\t<div className={className}>\n\t\t\t<div className=\"comment\">\n\t\t\t\t<div className=\"information-panel\">\n\t\t\t\t\t<div className=\"author\">\n\t\t\t\t\t\t<Icon id=\"fa-user-circle-o\" margin=\"0 12px 0 10px\" size=\"20px\" />\n\t\t\t\t\t\t{author}\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"published-at\">\n\t\t\t\t\t\t<Icon\n\t\t\t\t\t\t\tid=\"fa-calendar-o\"\n\t\t\t\t\t\t\tmargin=\"0 12px 0 10px\"\n\t\t\t\t\t\t\tsize=\"20px\"\n\t\t\t\t\t\t\tinactive=\"true\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t{publishedAt}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"comment-text\">{content}</div>\n\t\t\t</div>\n\t\t\t{isAdminOrModerator && (\n\t\t\t\t<Icon\n\t\t\t\t\tid=\"fa-trash-o\"\n\t\t\t\t\tmargin=\"8px 12px 0 10px\"\n\t\t\t\t\tsize=\"24px\"\n\t\t\t\t\tonClick={() => onCommentRemove(id)}\n\t\t\t\t/>\n\t\t\t)}\n\t\t</div>\n\t);\n};\n\nexport const Comment = styled(CommentContainer)`\n\tdisplay: flex;\n\tmargin-top: 10px;\n\n\t.author,\n\t.published-at {\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t}\n\n\t.comment {\n\t\twidth: 100%;\n\t\tpadding: 10px;\n\t\tborder: 1px solid #cccccc;\n\t}\n\n\t.information-panel {\n\t\tdisplay: flex;\n\t\tjustify-content: space-between;\n\t}\n`;\n\nComment.propTypes = {\n\tid: PropTypes.string.isRequired,\n\tauthor: PropTypes.string.isRequired,\n\tcontent: PropTypes.string.isRequired,\n\tpublishedAt: PropTypes.string.isRequired,\n\tpostId: PropTypes.string.isRequired,\n};\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}