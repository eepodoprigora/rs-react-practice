{"ast":null,"code":"import PropTypes from'prop-types';import{useDispatch,useSelector}from'react-redux';import{useNavigate}from'react-router-dom';import{Icon}from'../../../../components';import{openModal,CLOSE_MODAL,removePostAsync}from'../../../../actions';import{useServerRequest}from'../../../../hooks';import{checkAccess}from'../../../../utils/check-access';import{ROLE}from'../../../../constants';import{selectUserRole}from'../../../../selectors';import styled from'styled-components';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const SpecialPanelContainer=_ref=>{let{className,publishedAt,editButton,id}=_ref;const dispatch=useDispatch();const requestServer=useServerRequest();const navigate=useNavigate();const userRole=useSelector(selectUserRole);const isAdmin=checkAccess([ROLE.ADMIN],userRole);const onPostRemove=()=>{dispatch(openModal({text:'Удалить статью?',onConfirm:()=>{dispatch(removePostAsync(requestServer,id)).then(()=>navigate('/'));dispatch(CLOSE_MODAL);},onCancel:()=>dispatch(CLOSE_MODAL)}));};return/*#__PURE__*/_jsxs(\"div\",{className:className,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"published-at\",children:[publishedAt&&/*#__PURE__*/_jsx(Icon,{id:\"fa-calendar-o\",margin:\"0 7px 0 0\",size:\"18px\",inactive:\"true\"}),publishedAt]}),isAdmin&&/*#__PURE__*/_jsxs(\"div\",{className:\"buttons\",children:[editButton,publishedAt&&/*#__PURE__*/_jsx(Icon,{id:\"fa-trash-o\",margin:\"0 0 0 0\",size:\"20px\",onClick:()=>onPostRemove()})]})]});};export const SpecialPanel=styled(SpecialPanelContainer)`\n\tmargin: ${_ref2=>{let{margin}=_ref2;return margin;}};\n\tfont-size: 18px;\n\tdisplay: flex;\n\tjustify-content: space-between;\n\n\t.published-at {\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t}\n\n\t.buttons {\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t}\n`;SpecialPanel.propTypes={publishedAt:PropTypes.string.isRequired,editButton:PropTypes.node.isRequired,id:PropTypes.string.isRequired};","map":{"version":3,"names":["PropTypes","useDispatch","useSelector","useNavigate","Icon","openModal","CLOSE_MODAL","removePostAsync","useServerRequest","checkAccess","ROLE","selectUserRole","styled","jsx","_jsx","jsxs","_jsxs","SpecialPanelContainer","_ref","className","publishedAt","editButton","id","dispatch","requestServer","navigate","userRole","isAdmin","ADMIN","onPostRemove","text","onConfirm","then","onCancel","children","margin","size","inactive","onClick","SpecialPanel","_ref2","propTypes","string","isRequired","node"],"sources":["/Users/evgeniapodoprigora/Desktop/practice/frontend/src/pages/post/components/special-panel/special-panel.js"],"sourcesContent":["import PropTypes from 'prop-types';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { useNavigate } from 'react-router-dom';\n\nimport { Icon } from '../../../../components';\nimport { openModal, CLOSE_MODAL, removePostAsync } from '../../../../actions';\nimport { useServerRequest } from '../../../../hooks';\n\nimport { checkAccess } from '../../../../utils/check-access';\nimport { ROLE } from '../../../../constants';\nimport { selectUserRole } from '../../../../selectors';\nimport styled from 'styled-components';\n\nconst SpecialPanelContainer = ({ className, publishedAt, editButton, id }) => {\n\tconst dispatch = useDispatch();\n\tconst requestServer = useServerRequest();\n\tconst navigate = useNavigate();\n\tconst userRole = useSelector(selectUserRole);\n\n\tconst isAdmin = checkAccess([ROLE.ADMIN], userRole);\n\n\tconst onPostRemove = () => {\n\t\tdispatch(\n\t\t\topenModal({\n\t\t\t\ttext: 'Удалить статью?',\n\t\t\t\tonConfirm: () => {\n\t\t\t\t\tdispatch(removePostAsync(requestServer, id)).then(() =>\n\t\t\t\t\t\tnavigate('/'),\n\t\t\t\t\t);\n\t\t\t\t\tdispatch(CLOSE_MODAL);\n\t\t\t\t},\n\t\t\t\tonCancel: () => dispatch(CLOSE_MODAL),\n\t\t\t}),\n\t\t);\n\t};\n\n\treturn (\n\t\t<div className={className}>\n\t\t\t<div className=\"published-at\">\n\t\t\t\t{publishedAt && (\n\t\t\t\t\t<Icon\n\t\t\t\t\t\tid=\"fa-calendar-o\"\n\t\t\t\t\t\tmargin=\"0 7px 0 0\"\n\t\t\t\t\t\tsize=\"18px\"\n\t\t\t\t\t\tinactive=\"true\"\n\t\t\t\t\t/>\n\t\t\t\t)}\n\t\t\t\t{publishedAt}\n\t\t\t</div>\n\t\t\t{isAdmin && (\n\t\t\t\t<div className=\"buttons\">\n\t\t\t\t\t{editButton}\n\t\t\t\t\t{publishedAt && (\n\t\t\t\t\t\t<Icon\n\t\t\t\t\t\t\tid=\"fa-trash-o\"\n\t\t\t\t\t\t\tmargin=\"0 0 0 0\"\n\t\t\t\t\t\t\tsize=\"20px\"\n\t\t\t\t\t\t\tonClick={() => onPostRemove()}\n\t\t\t\t\t\t/>\n\t\t\t\t\t)}\n\t\t\t\t</div>\n\t\t\t)}\n\t\t</div>\n\t);\n};\n\nexport const SpecialPanel = styled(SpecialPanelContainer)`\n\tmargin: ${({ margin }) => margin};\n\tfont-size: 18px;\n\tdisplay: flex;\n\tjustify-content: space-between;\n\n\t.published-at {\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t}\n\n\t.buttons {\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t}\n`;\n\nSpecialPanel.propTypes = {\n\tpublishedAt: PropTypes.string.isRequired,\n\teditButton: PropTypes.node.isRequired,\n\tid: PropTypes.string.isRequired,\n};\n"],"mappings":"AAAA,MAAO,CAAAA,SAAS,KAAM,YAAY,CAClC,OAASC,WAAW,CAAEC,WAAW,KAAQ,aAAa,CACtD,OAASC,WAAW,KAAQ,kBAAkB,CAE9C,OAASC,IAAI,KAAQ,wBAAwB,CAC7C,OAASC,SAAS,CAAEC,WAAW,CAAEC,eAAe,KAAQ,qBAAqB,CAC7E,OAASC,gBAAgB,KAAQ,mBAAmB,CAEpD,OAASC,WAAW,KAAQ,gCAAgC,CAC5D,OAASC,IAAI,KAAQ,uBAAuB,CAC5C,OAASC,cAAc,KAAQ,uBAAuB,CACtD,MAAO,CAAAC,MAAM,KAAM,mBAAmB,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAEvC,KAAM,CAAAC,qBAAqB,CAAGC,IAAA,EAAgD,IAA/C,CAAEC,SAAS,CAAEC,WAAW,CAAEC,UAAU,CAAEC,EAAG,CAAC,CAAAJ,IAAA,CACxE,KAAM,CAAAK,QAAQ,CAAGtB,WAAW,CAAC,CAAC,CAC9B,KAAM,CAAAuB,aAAa,CAAGhB,gBAAgB,CAAC,CAAC,CACxC,KAAM,CAAAiB,QAAQ,CAAGtB,WAAW,CAAC,CAAC,CAC9B,KAAM,CAAAuB,QAAQ,CAAGxB,WAAW,CAACS,cAAc,CAAC,CAE5C,KAAM,CAAAgB,OAAO,CAAGlB,WAAW,CAAC,CAACC,IAAI,CAACkB,KAAK,CAAC,CAAEF,QAAQ,CAAC,CAEnD,KAAM,CAAAG,YAAY,CAAGA,CAAA,GAAM,CAC1BN,QAAQ,CACPlB,SAAS,CAAC,CACTyB,IAAI,CAAE,iBAAiB,CACvBC,SAAS,CAAEA,CAAA,GAAM,CAChBR,QAAQ,CAAChB,eAAe,CAACiB,aAAa,CAAEF,EAAE,CAAC,CAAC,CAACU,IAAI,CAAC,IACjDP,QAAQ,CAAC,GAAG,CACb,CAAC,CACDF,QAAQ,CAACjB,WAAW,CAAC,CACtB,CAAC,CACD2B,QAAQ,CAAEA,CAAA,GAAMV,QAAQ,CAACjB,WAAW,CACrC,CAAC,CACF,CAAC,CACF,CAAC,CAED,mBACCU,KAAA,QAAKG,SAAS,CAAEA,SAAU,CAAAe,QAAA,eACzBlB,KAAA,QAAKG,SAAS,CAAC,cAAc,CAAAe,QAAA,EAC3Bd,WAAW,eACXN,IAAA,CAACV,IAAI,EACJkB,EAAE,CAAC,eAAe,CAClBa,MAAM,CAAC,WAAW,CAClBC,IAAI,CAAC,MAAM,CACXC,QAAQ,CAAC,MAAM,CACf,CACD,CACAjB,WAAW,EACR,CAAC,CACLO,OAAO,eACPX,KAAA,QAAKG,SAAS,CAAC,SAAS,CAAAe,QAAA,EACtBb,UAAU,CACVD,WAAW,eACXN,IAAA,CAACV,IAAI,EACJkB,EAAE,CAAC,YAAY,CACfa,MAAM,CAAC,SAAS,CAChBC,IAAI,CAAC,MAAM,CACXE,OAAO,CAAEA,CAAA,GAAMT,YAAY,CAAC,CAAE,CAC9B,CACD,EACG,CACL,EACG,CAAC,CAER,CAAC,CAED,MAAO,MAAM,CAAAU,YAAY,CAAG3B,MAAM,CAACK,qBAAqB,CAAC;AACzD,WAAWuB,KAAA,MAAC,CAAEL,MAAO,CAAC,CAAAK,KAAA,OAAK,CAAAL,MAAM;AACjC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC,CAEDI,YAAY,CAACE,SAAS,CAAG,CACxBrB,WAAW,CAAEpB,SAAS,CAAC0C,MAAM,CAACC,UAAU,CACxCtB,UAAU,CAAErB,SAAS,CAAC4C,IAAI,CAACD,UAAU,CACrCrB,EAAE,CAAEtB,SAAS,CAAC0C,MAAM,CAACC,UACtB,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}